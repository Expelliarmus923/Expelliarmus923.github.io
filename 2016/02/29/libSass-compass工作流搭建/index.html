<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> libSass+compass工作流搭建 · lulizhou-blog</title><meta name="description" content="libSass+compass工作流搭建 - lulizhou"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVES</a></li><li class="nav-list-item"><a href="https://twitter.com/lizhou_lu" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/Expelliarmus923" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">libSass+compass工作流搭建</h1><div class="post-meta"><div class="post-time">Feb 29, 2016</div></div><div class="post-content"><h2 id="u77E5_u8BC6_u50A8_u5907"><a href="#u77E5_u8BC6_u50A8_u5907" class="headerlink" title="知识储备"></a>知识储备</h2><ul>
<li><a href="http://sass-lang.com/libsass" target="_blank" rel="external">LibSass</a></li>
<li><a href="http://nodejs.org" target="_blank" rel="external">Nodejs</a></li>
<li><a href="http://bower.io" target="_blank" rel="external">Bower</a></li>
<li><a href="http://gulpjs.com" target="_blank" rel="external">Glup</a></li>
</ul>
<p>libSass是一套用C/C++写的sass编译引擎。其目的就是为了让sass脱离ruby的绑定。可以直接用nodejs来编译sass文件,比如官方的<a href="https://github.com/sass/node-sass" target="_blank" rel="external">node-sass</a>。</p>
<h2 id="u73AF_u5883_u642D_u5EFA"><a href="#u73AF_u5883_u642D_u5EFA" class="headerlink" title="环境搭建"></a>环境搭建</h2><p><a href="http://nodejs.org" target="_blank" rel="external">Nodejs</a> 官网已经提供很详细的安装方式了，建议直接上最新版。<br>由于你懂的原因，国内npm源访问速度感人，建议直接上<a href="https://npm.taobao.org/" target="_blank" rel="external">淘宝npm源</a><br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#20320;&#30340;&#24037;&#20316;&#25991;&#20214;&#22841;  &#10;mkdir sass css&#10;npm init //&#19968;&#36335;enter&#23601;&#34892;&#20102;&#10;bower init //&#21516;&#19978;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="u5DE5_u4F5C_u6D41_u642D_u5EFA"><a href="#u5DE5_u4F5C_u6D41_u642D_u5EFA" class="headerlink" title="工作流搭建"></a>工作流搭建</h2><p><a href="http://gulpjs.com" target="_blank" rel="external">Glup</a>是款强大的工作流解决方案。配置简单，马上上手<br>glup-sass是sass的glup版本，会自动默认调用node-sass<br>gulp-sourcemaps方便调试sass文件</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install glup node-sass gulp-sass gulp-sourcemaps --save-dev&#10;subl gulpfile.js  &#10;//&#29992;sublime&#25171;&#24320;gulpfile.js&#25991;&#20214;,window&#19979;&#30452;&#25509;&#26032;&#24314;gulpfile.js&#25991;&#20214;&#23601;&#34892;&#20102;&#12290;</span><br></pre></td></tr></table></figure>
<p>这里是我的gulpfile.js文件.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> sass = <span class="built_in">require</span>(<span class="string">'gulp-sass'</span>);</span><br><span class="line"><span class="keyword">var</span> sourcemaps = <span class="built_in">require</span>(<span class="string">'gulp-sourcemaps'</span>);</span><br><span class="line"> <span class="comment">//sass配置项</span></span><br><span class="line"><span class="keyword">var</span> opition = &#123;</span><br><span class="line">	outputStyle:<span class="string">"expanded"</span>   </span><br><span class="line">  <span class="comment">//expanded行尾花括号换号 compact一行上天 compressed 压缩版本(生产版本)</span></span><br><span class="line">&#125;</span><br><span class="line">gulp.task(<span class="string">'sass'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">return</span> gulp.src(<span class="string">'./sass/**/*.&#123;scss,sass&#125;'</span>)</span><br><span class="line">	.pipe(sourcemaps.init())</span><br><span class="line">	.pipe(sass(opition).on(<span class="string">'error'</span>,sass.logError))</span><br><span class="line">	.pipe(sourcemaps.write())</span><br><span class="line">	.pipe(gulp.dest(<span class="string">'./css'</span>));</span><br><span class="line">&#125;);</span><br><span class="line">gulp.task(<span class="string">"sass:watch"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	gulp.watch(<span class="string">'./sass/*.scss'</span>,[<span class="string">'sass'</span>]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>在sass文件夹下新建test.scss<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$red</span><span class="value">:<span class="hexcolor">#d5d5d5</span>;</span></span><br><span class="line"><span class="class">.red</span>&#123;</span><br><span class="line">	<span class="attribute">background</span><span class="value">: <span class="variable">$red</span>;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>运行<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gulp sass //&#32534;&#35793;&#19968;&#27425;&#10;gulp sass:watch // &#30417;&#25511;&#25991;&#20214;&#25913;&#21464;&#33258;&#21160;&#32534;&#35793;</span><br></pre></td></tr></table></figure></p>
<p>这时候应该能看到css目录下多了个test.css,说明环境搭建成功!</p>
<h2 id="u6DFB_u52A0compass"><a href="#u6DFB_u52A0compass" class="headerlink" title="添加compass"></a>添加compass</h2><p>compass-mixins把compass的mixin拿出来了，用bower直接安装。<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bower install compass-mixins --save</span><br></pre></td></tr></table></figure></p>
<p>这时候会产生一个bower_components底下会产生compass-mixins文件夹<br>新建_var.scss<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$red</span><span class="value">:<span class="hexcolor">#d5d5d5</span>;</span></span><br><span class="line"><span class="variable">$blue</span><span class="value">:<span class="hexcolor">#442342</span>;</span></span><br></pre></td></tr></table></figure></p>
<p>修改test.scss<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">import</span> <span class="string">"_var.scss"</span>;</span></span><br><span class="line"><span class="at_rule">@<span class="keyword">import</span> <span class="string">"../bower_components/compass-mixins/lib/compass"</span>;</span> </span><br><span class="line"><span class="class">.red</span>&#123;</span><br><span class="line">	<span class="attribute">background</span><span class="value">: <span class="variable">$red</span>;</span></span><br><span class="line">	<span class="at_rule">@<span class="keyword">include</span><span class="preprocessor"> box-sizing</span>(<span class="string">'border-box '</span>);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>Done!</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/02/22/JavaScript里的闭包/" class="next">下一篇</a></div><div class="copyright"><p>© 2015 - 2016 <a href="http://blog.lulizhou.com">lulizhou</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src ="//hm.baidu.com/hm.js?a36e15d9e2adec9a21fcdd9f686b1ed2";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="http://7xowc1.com1.z0.glb.clouddn.com/tiny-progress.min.js"></script><script>new porgressbar({'height':'4px','background':'#42b983'});</script></body></html>